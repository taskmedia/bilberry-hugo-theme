{{ define "main" }}
    {{ .Scratch.Set "singlePage" true }} <!-- SET singlePage variable -->
    <div class="article-wrapper u-cf single">
        {{  if or (fileExists (print "layouts/partials/content-type/" .Type ".html") ) (fileExists (print "themes/bilberry-hugo-theme/layouts/partials/content-type/" .Type ".html")) }}
            {{ partial (print "content-type/" .Type) . }}
        {{ else }}
            {{ partial "content-type/article" . }}
        {{ end }}
    </div>

    {{ if ( .Params.showComments | default true ) }}
        {{ template "_internal/disqus.html" . }}
    {{ end }}

    <!-- github comments -->
    <div class="comments">
        <script src="https://utteranc.es/client.js"
                repo="taskmedia/blog"
                issue-term="pathname"
                label="comment"
                theme="github-light"
                crossorigin="anonymous"
                async>
        </script>
    </div>

    {{ .Scratch.Set "singlePage" false }} <!-- RESET singlePage variable -->
{{ end }}
